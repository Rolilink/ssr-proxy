<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>SSR-Proxy by xiamx</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">SSR-Proxy</h1>
      <h2 class="project-tagline">Prerender your single page app for better SEO and support on legacy browsers</h2>
      <a href="https://github.com/xiamx/ssr-proxy" class="btn">View on GitHub</a>
      <a href="https://github.com/xiamx/ssr-proxy/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/xiamx/ssr-proxy/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="ssr-proxy--server-side-rendering-proxy" class="anchor" href="#ssr-proxy--server-side-rendering-proxy" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SSR-Proxy — Server-Side Rendering Proxy</h1>

<p>Prerender your single page app for better SEO and support on legacy browsers.</p>

<p>SSR-Proxy is a HTTP proxy which you can put in front of your existing Single Page App server to achieve server-side rendering. With SSR-Proxy, we take a different approach in Server-Side Rendering. Instead of rendering frontend components in Nodejs, we use an actual headless browser — PhantomJS to render SPA and proxy the rendered HTML to the client. </p>

<h2>
<a id="demo" class="anchor" href="#demo" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Demo</h2>

<p>Directly accessing an async javascript rendered page</p>

<p><img src="http://i.imgur.com/hIERcMw.gif" width="100%"></p>

<p>Accessing an async javascript rendered page through SSR-Proxy</p>

<p><img src="http://i.imgur.com/KWEaqeb.gif" width="100%"></p>

<h2>
<a id="get-started" class="anchor" href="#get-started" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get started</h2>

<p>Install Node.js with version 6.4.0 and higher. Then follow the steps below.</p>

<div class="highlight highlight-source-shell"><pre>git clone git@github.com:xiamx/ssr-proxy.git
<span class="pl-c1">cd</span> srr-proxy
npm install
<span class="pl-c"># make the configuration needed in config.json</span>
<span class="pl-c"># change upstream to the server of your Single Page App</span>
npm start</pre></div>

<h2>
<a id="motivation" class="anchor" href="#motivation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Motivation</h2>

<p>Quite a number of web apps built today are Single Page Apps (SPA.) [<a href="https://github.com/search?o=desc&amp;q=require%28%27react-router%27%29&amp;ref=searchresults&amp;s=indexed&amp;type=Code&amp;utf8=%E2%9C%93">1</a>] With React, Vuejs and other tools, building complex SPA is easier than ever before. One of the biggest challenge faced by SPAs is the diffculty in SEO (Search Engine Optimization.) When a webpage is asynchronously rendered via javascript (e.g. use ajax to fetch some documents and then display it inside a div), search engines cannot index them properly [<a href="http://webcache.googleusercontent.com/search?q=cache:ypDo69X-oj0J:react.semantic-ui.com/&amp;num=1&amp;hl=en&amp;gl=ca&amp;strip=1&amp;vwsrc=0">2</a>, <a href="https://engineering.pinterest.com/blog/demystifying-seo-experiments">4</a>].</p>

<p>Granted, most SPAs don't need to be indexed by search engines, But such demands have pushed the development of Universal Rendering, or Server-Side Rendering of frontend components. Universal Rendering does not come for free, developer now need to manage additional complexity of components lifecycles on both client-side and server-side. [<a href="http://jamesknelson.com/universal-react-youre-doing-it-wrong/">3</a>]</p>

<p>With the approach offered by SSR-Proxy, we don't need code-level universal rendering. Hence, we can focus on developing a SPA that is designed to render in a browser, greatly reducing the complexity.</p>

<h2>
<a id="configuration" class="anchor" href="#configuration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configuration</h2>

<p>SSR-Proxy ships with a default configuration in <code>config.json</code> which should be usable in most scenarios. But you might need to modify it to get the desired behavoir.</p>

<ul>
<li>
<code>upstream</code>: The root url of your single page app. SSR-Proxy will proxy all requests to this url.</li>
<li>
<code>idleMax</code>: SSR-Proxy consider a page rendered and send it back to the client if there are no network activity for more than <code>idleMax</code> milliseconds. A default value of <code>500</code> is set. If your SPA server is slower than that or your page renders with partial content, you may consider increasing this number. Decreasing this number shortens the page loading time, at the cost of possible missing content.</li>
<li>
<code>nodeHttpProxy</code>: A set of <a href="https://github.com/nodejitsu/node-http-proxy#options">options</a> passed to when creating node-http-proxy server.</li>
<li>
<code>phantomjs.argv</code>: Commandline arguments when starting phantomjs.</li>
<li>
<code>port</code>: Port that this proxy server listens to.</li>
</ul>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/xiamx/ssr-proxy">SSR-Proxy</a> is maintained by <a href="https://github.com/xiamx">xiamx</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
